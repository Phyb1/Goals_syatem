{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<h2>Dashboard</h2>

<div class="dashboard-section">
    <h3>Goals Overview</h3>
    <p>Total Goals Created: {{ total_goals }}</p>
    <p>Active Goals: {{ active_goals }}</p>
    <p>Completed Goals: {{ completed_goals }}</p>
</div>

<div class="dashboard-section">
    <h3>Steps and Milestones</h3>
    <p>Total Steps Created: {{ total_steps }}</p>
    <p>Completed Steps: {{ completed_steps }}</p>
    <p>Pending Steps: {{ pending_steps }}</p>
</div>

<div class="dashboard-section">
    <h3>Progress Tracking</h3>
    <canvas id="progressChart" width="400" height="200"></canvas>
</div>

<div class="dashboard-section">
    <h3>Reflection Summary</h3>
    <div class="word-cloud">
        {% for word, frequency in reflection_summary %}
            <span style="font-size: {{ frequency }}%;">{{ word }}</span>
        {% endfor %}
    </div>
</div>

<div class="dashboard-section">
    <h3>Rewards</h3>
    <p>Rewards Earned: {{ rewards_earned }}</p>
    <p>Pending Rewards: {{ pending_rewards }}</p>
</div>

<div class="dashboard-section">
    <h3>SMART Goals Analysis</h3>
    <p>Percentage of SMART Goals: {{ smart_goals_percentage }}%</p>
</div>

<script>
    const dailyProgress = {{ daily_progress|safe }};
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'js/dashboard.js' %}"></script>
{% endblock %}
